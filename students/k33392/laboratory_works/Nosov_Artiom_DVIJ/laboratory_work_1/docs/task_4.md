# Задание 4

**Серверная часть**

![server часть первая задание №4](images/task_4_server_1.jpg)

В файле сервера определено несколько функций. Первая отвечает за подключение пользователя, о чем выводит информацию в консоль. Вторая получает сообщение от клиента, если возвращается ошибка, то данное подключение удаляется из списка, а также отправляет всем подключенным клиентам полученное сообщение. Третья отвечает за создание потока для каждого клиента, чтобы они могли иметь одновременное подключение.

![server часть два задание №4](images/task_4_server_2.jpg)

В другой части запускается серверный сокет, создаются массивы для подключений и потоков. Затем создаются два потока для одновременной обработки новых подключений и сообщений из чата.

**Клиентская часть**

![client задание №4](images/task_4_client.jpg)

У всех пользователей одинаковый скрипт. Отличается только вызов bind.

**Пример работы программы**

Запуск программы и подключение пользователей:
![Запуск программы и подключение пользователей задание №4](images/task_4_test_1.jpg)

Первый пользователь отправил сообщение:
![Первый пользователь отправил сообщение задание №4](images/task_4_test_2.jpg)

Второй пользователь получает сообщение от первого:
![Второй пользователь получает сообщение от первого задание №4](images/task_4_test_3.jpg)

Третий пользователь получает сообщение от первого:
![Третий пользователь получает сообщение от первого задание №4](images/task_4_test_4.jpg)
