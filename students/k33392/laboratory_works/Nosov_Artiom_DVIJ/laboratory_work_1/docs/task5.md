# Задание 5

**Серверная часть**

![часть первая задание №5](images/task_5_server_1.jpg)

Здесь сервер является http-сервером. В первой функции проходит инициализация сервера и инициализация словаря для дисциплин, куда будут записываться оценки студентов. Далее описана главная функция сервера, где он запускается и обрабатывает клиентские подключения.

![server часть вторая задание №5](images/task_5_server_2.jpg)

В обработке клиентского подключения входит парсинг заголовка, составление ответа и его отправка. Парсинг заголовка: данные запроса, разбиваются на метод, адрес и версию протокола, затем адрес разбивается на адрес и переданные параметры, которые в свою очередь оформляются в словарь.

![server часть третья задание №5](images/task_5_server_3.jpg)

В конце парсинга запроса идёт парсинг заголовков, который описан в функции parse_headers. В ее цикле построчно читается файл, переданный из предыдущей функции и до появления пустой строки заголовки записываются в соответствующий массив. После идет функция для создания ответа handle_request. В зависимости от переданного метода она вызывает либо функцию записи новых оценок, либо функцию получения информации по дисциплине.

![server часть четвёртая задание №5](images/task_5_server_4.jpg)

В функции записи информации проверяется наличие переданной дисциплины, происходит добавление данных в словарь, объявленный при инициализации и возвращаются атрибуты ответа. Если же нужно получить данные, то построчно создается тело ответа с добавлением необходимых данных в соответствии с переданными параметрами и также возвращаются атрибуты ответа.

![server часть пятая задание №5](images/task_5_server_5.jpg)

В функции отправки ответа send_response создается файл, который будет отправлен клиенту, в него в необходимом порядке вставляются атрибуты из предыдущих функций.

**Клиентская часть**

![client задание №5](images/task_5_client.jpg)

**Пример работы программы**

Вывод в консоль на стороне клиента:
![Вывод в консоль на стороне клиента задание №5](images/task_5_test.jpg)
