# Представления

Представления отвечают за бизнес-логику сайта.

=== "Регистрация"

    ```Python
    --8<-- "laboratory_work_2/racing/racing_club/views.py:1:36"
    ```

    Данный view отвечает за регистрацию пользователя/гонщика, в нём от поьзователя (в случае POST-реквеста) получаются две формы (регистрационная с email/логином/паролем и форма с информацией о гонщике), после проверки обеих форм на валидность данные пользователя и гонщика сохраняются и происходит редирект на страницу логина, в случае же с GET-запросом формы просто отображаются пользователю.

=== "Домашняя страница"

    ```Python
    --8<-- "laboratory_work_2/racing/racing_club/views.py:38:39"
    ```

    Данный view просто отображает стартовую страницу сайта.


=== "Комментарии"

    ```Python
    --8<-- "laboratory_work_2/racing/racing_club/views.py:46:63"
    ```

    Данное представление позволяет постить и смотреть комментарии. В случае GET-реквеста форма постинга комментария отображается пользователю, в случае же POST-реквеста нужной гонке записывается комментарий от текущего пользователя.


=== "Настройки профиля"

    ```Python
    --8<-- "laboratory_work_2/racing/racing_club/views.py:65:98"
    ```

    Данный view позволяет пользователю просматривать и обновлять информацию о себе (сменить пароль, email, информацию о гонщике).


=== "Удаление профиля"

    ```Python
    --8<-- "laboratory_work_2/racing/racing_club/views.py:96:101"
    ```

    Данное представление позволяет пользователю удалить свой аккаунт на сайте.


=== "Выход"

    ```Python
    --8<-- "laboratory_work_2/racing/racing_club/views.py:102:"
    ```

    Данный view позволяет пользователю выйти из аккаунта (используется стандартный метод `django.contrib.auth.logout`).
