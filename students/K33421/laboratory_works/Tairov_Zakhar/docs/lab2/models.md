# Модели

Нам необходимо описать БД средствами Django ORM, для этого перейдём в файл `models.py` в нашем приложении и 
создадим несколько классов, наследуемых от `django.db.models.Model`.

Также внутри каждого класса создадим мета-класс с 3 полями:

- `db_table` - название таблицы в БД;
- `verbose_name` - человекочитаемое название объекта;
- `verbose_name_plural` - человекочитаемое название во множественном числе.

Кроме того, переопределим магический метод `__str__` в каждом классе, чтобы объекты имели более понятное текстовое представление.

=== "Команда"

    ```Python
    --8<-- "laboratory_work_2/racing/racing_club/models.py:6:14"
    ```

    В этой модели определим только одно текстовое поле - "Название".

=== "Гонщик"

    ```Python
    --8<-- "laboratory_work_2/racing/racing_club/models.py:16:29"
    ```

    В этой модели определим пользователя (свяжем пользователя от стандартной модели `django.contrib.auth.models.User` и гонщика), полное имя гонщика, команду, биографию, количество пройденных гонок (работает как метрика в карьере/опыт, не связано с количеством гонок на сайте) и название автомобиля.

=== "Гонка"

    ```Python
    --8<-- "laboratory_work_2/racing/racing_club/models.py:31:41"
    ```

    В этой модели определим название гонки, дату и время проведения гонки, и команду-победителя (внешний ключ).

=== "Комментарий"

    ```Python
    --8<-- "laboratory_work_2/racing/racing_club/models.py:43:68"
    ```

    В этой модели определим внешние ключи: гонку, о которой комментарий и автора комментария. Так же добавим ключ с текстом комментария, ключ типа комментария (с выбором из предложенных вариантов), рейтинг гонки от пользователя (от 1 до 10), и временную отметку создания комментария (записываем текущее время).

После создания всех моделей нужно сделать миграции:

```commandline
python manage.py makemigrations
python manage.py migrate
```

А так же создать суперпользователя:

```commandline
python manage.py createsuperuser
```