# Задание 5

## Описание Задачи

Задача заключается в создании простого web-сервера на Python, который может обрабатывать GET и POST HTTP-запросы. Сервер
должен принимать и записывать информацию о дисциплине и оценке, а также отдавать информацию обо всех оценках по
дисциплине в виде HTML-страницы.

## Реализация

### Класс `AcademicRecordServer`

#### Конструктор `__init__(self, host, port)`

Конструктор класса. Инициализирует сокет сервера, привязывает его к указанному хосту и порту, и устанавливает слушать
входящие соединения. Также инициализируется словарь `records` для хранения оценок и `lock` для управления доступом к
общим ресурсам в многопоточной среде.

#### Метод `run(self)`

Запускает сервер. В бесконечном цикле ожидает входящие подключения и создает новый поток для обработки каждого
подключения с помощью метода `manage_connection`.

#### Метод `manage_connection(self, conn)`

Обрабатывает подключение клиента. Получает HTTP-запрос, маршрутизирует его (GET или POST) и отправляет соответствующий
HTTP-ответ. В случае исключения отправляет ответ с ошибкой сервера.

#### Метод `get_request(self, conn)`

Читает HTTP-запрос от клиента. Принимает данные из сокета до тех пор, пока не встретит последовательность `\r\n\r\n`,
означающую конец HTTP-заголовков.

#### Метод `route_request(self, request)`

Определяет тип HTTP-запроса (GET или POST) и вызывает соответствующий обработчик запроса. Возвращает сформированный
HTTP-ответ.

#### Метод `process_get_request(self, path)`

Обрабатывает GET-запросы. Если запрашивается путь `/records`, генерирует HTML-страницу со всеми оценками. В противном
случае возвращает 404 ответ.

#### Метод `process_post_request(self, path, body)`

Обрабатывает POST-запросы. Если путь запроса `/add-record`, извлекает данные из тела запроса и добавляет запись об
оценке. После добавления вызывает `process_get_request` для возврата обновленной страницы с оценками.

#### Методы `add_record`, `create_http_response`, `parse_form_data`, `generate_html_records`

- `add_record`: Добавляет оценку по дисциплине в словарь `records`.
- `create_http_response`: Создает и форматирует HTTP-ответ.
- `parse_form_data`: Разбирает данные формы из тела POST-запроса.
- `generate_html_records`: Генерирует HTML-страницу со списком всех оценок.

## Выводы

Реализованный сервер демонстрирует основные принципы работы с HTTP-запросами и
многопоточностью в Python. Сервер эффективно обрабатывает входящие запросы и динамически генерирует содержимое страницы
на основе полученных данных.